<div class="oj-hybrid-padding">
            <div class="oj-flex oj-sm-flex-direction-column">
                <div class="oj-flex oj-sm-margin-4x-bottom">
                    <h1 class="oj-typography-heading-lg oj-text-color-primary">User Management</h1>
                </div>
                
                <div class="oj-flex oj-sm-flex-direction-column">
                    <div class="oj-flex oj-sm-align-items-center oj-sm-margin-4x-bottom">
                        <h2 class="oj-typography-heading-md oj-text-color-primary oj-flex-item">Groups</h2>
                        <div class="oj-flex oj-sm-margin-4x-start">
                            <oj-button id="addGroupButton" class="oj-button-outlined-chrome oj-sm-margin-2x-end" 
                                       on-oj-action="[[addNewGroup]]" chroming="outlined">
                                <span slot="startIcon" class="oj-ux-ico-plus"></span>
                                Add Group
                            </oj-button>
                        </div>
                    </div>
                    
                    <div class="oj-flex oj-sm-flex-direction-column oj-sm-margin-4x-bottom">
                        <p class="oj-typography-body-md oj-text-color-secondary">
                            Manage user groups and their members. Groups are used to control access to application logs.
                        </p>
                    </div>
                </div>
            </div>

            <oj-bind-if test="[[!isDataEmpty()]]">
                <oj-list-view id="groupsListView" aria-label="User Groups" data="[[dataProvider]]" 
                              on-oj-item-action="[[gotoEditGroup]]" class="demo-groups-list">
                    <template slot="itemTemplate" data-oj-as="item">
                        <li>
                            <oj-list-item-layout>
                                <div class="oj-flex oj-sm-flex-direction-column">
                                    <span class="oj-typography-heading-sm oj-text-color-primary">
                                        <oj-bind-text value="[[item.item.data.groupName]]"></oj-bind-text>
                                    </span>
                                    <span class="oj-typography-body-sm oj-text-color-secondary oj-sm-margin-2x-top">
                                        Created <oj-bind-text value="[[item.item.data.createdAgo]]"></oj-bind-text>
                                    </span>
                                </div>
                                
                                <div slot="metadata" class="oj-flex oj-sm-align-items-center">
                                    <span class="oj-typography-body-md oj-text-color-secondary oj-sm-margin-4x-end">
                                        <oj-bind-text value="[[item.item.data.memberCount]]"></oj-bind-text> Members
                                    </span>
                                    <oj-button class="oj-button-sm" chroming="outlined" 
                                               on-oj-action="[[editGroup]]"
                                               :data-group-id="[[item.item.data.groupId]]">
                                        <span slot="startIcon" class="oj-ux-ico-edit"></span>
                                        Edit
                                    </oj-button>
                                    <oj-button class="oj-button-sm" chroming="outlined" 
                                               on-oj-action="[[deleteGroup]]"
                                               :data-group-id="[[item.item.data.groupId]]">
                                        <span slot="startIcon" class="oj-ux-ico-trash"></span>
                                        Delete
                                    </oj-button>
                                </div>
                            </oj-list-item-layout>
                        </li>
                    </template>
                    <template slot="noData">
                        <div class="oj-flex oj-sm-align-items-center demo-nodata-content">
                            <div class="oj-flex oj-sm-align-items-center oj-sm-flex-direction-column demo-nodata-inner">
                                <h5>No groups found!</h5>
                                <p class="oj-text-color-secondary">Create your first user group to get started.</p>
                            </div>
                        </div>
                    </template>
                </oj-list-view>
            </oj-bind-if>
            
            <oj-bind-if test="[[isDataEmpty()]]">
                <div class="oj-flex oj-sm-align-items-center oj-sm-justify-content-center demo-nodata-content">
                    <div class="oj-flex oj-sm-align-items-center oj-sm-flex-direction-column demo-nodata-inner">
                        <h5>No groups found!</h5>
                        <p class="oj-text-color-secondary">Create your first user group to get started.</p>
                    </div>
                </div>
            </oj-bind-if>

    <!-- Edit Group Dialog -->
    <oj-dialog id="editGroupDialog" cancel-behavior="icon" aria-labelledby="dialog-title-id">
        <div slot="header">
            <span id="dialog-title-id" class="oj-dialog-title">Edit Group: <oj-bind-text value="[[selectedGroupName]]"></oj-bind-text></span>
        </div>
        <div slot="body">
            <div class="oj-flex oj-sm-flex-direction-column">
                <p class="oj-typography-body-md oj-text-color-secondary oj-sm-margin-4x-bottom">
                    Manage group members using the directory below.
                </p>
                
                <div class="oj-flex oj-sm-flex-direction-row edit-group-content">
                    <!-- Available Members Section -->
                    <div class="oj-flex-item oj-flex oj-sm-flex-direction-column available-members-section">
                        <h4 class="oj-typography-heading-sm oj-text-color-primary">Available Members</h4>
                        
                        <!-- Search Input -->
                        <div class="oj-sm-margin-4x-bottom">
                            <oj-input-search
                                id="memberSearch"
                                class="oj-form-control-full-width"
                                suggestions="[[availableMembersDP]]"
                                suggestion-item-text="email"
                                value="{{searchValue}}"
                                raw-value="{{searchRawValue}}"
                                on-raw-value-changed="[[handleSearchInput]]"
                                placeholder="Search directory..."
                                aria-label="Search directory">
                            </oj-input-search>
                        </div>
                        
                        <!-- Available Members List -->
                        <oj-list-view
                            id="availableMembersList"
                            aria-label="Available members list"
                            class="members-list available-members-list"
                            data="[[availableMembersDP]]"
                            selected="{{selectedAvailableMembers}}"
                            selection-mode="single"
                            on-selected-changed="[[handleAvailableMemberSelection]]">
                            <template slot="itemTemplate" data-oj-as="item">
                                <oj-list-item-layout class="member-list-item">
                                    <span class="oj-typography-body-md oj-text-color-primary">
                                        <oj-bind-text value="[[item.item.data.email]]"></oj-bind-text>
                                    </span>
                                    <oj-avatar slot="leading" size="xs" initials="[[item.item.data.initials]]"></oj-avatar>
                                    <span slot="secondary" class="oj-typography-body-sm oj-text-color-secondary">
                                        <oj-bind-text value="[[item.item.data.name]]"></oj-bind-text>
                                    </span>
                                </oj-list-item-layout>
                            </template>
                            <template slot="noData">
                                <div class="oj-flex oj-sm-align-items-center oj-sm-justify-content-center no-members-content">
                                    <p class="oj-text-color-secondary">Type a name/email to begin search</p>
                                </div>
                            </template>
                        </oj-list-view>
                    </div>
                    
                    <!-- Current Members Section -->
                    <div class="oj-flex-item oj-flex oj-sm-flex-direction-column current-members-section">
                        <div class="oj-flex oj-sm-align-items-center oj-sm-justify-content-space-between oj-sm-margin-4x-bottom">
                            <h4 class="oj-typography-heading-sm oj-text-color-primary">Current Members</h4>
                            <div class="oj-flex oj-sm-align-items-center">
                                <span class="oj-typography-body-sm oj-text-color-secondary oj-sm-margin-2x-end">
                                    <oj-bind-text value="[[currentMembers().length]]"></oj-bind-text> members
                                </span>
                                <oj-button id="removeAllBtn" class="oj-button-sm" chroming="outlined" 
                                           on-oj-action="[[removeAllMembers]]">
                                    Remove All
                                </oj-button>
                            </div>
                        </div>
                        
                        <!-- Current Members List -->
                        <oj-list-view
                            id="currentMembersList"
                            aria-label="Current members list"
                            class="members-list current-members-list"
                            data="[[currentMembersDP]]">
                            <template slot="itemTemplate" data-oj-as="item">
                                <oj-list-item-layout class="member-list-item current-member-item">
                                    <span class="oj-typography-body-md oj-text-color-primary">
                                        <oj-bind-text value="[[item.item.data.email]]"></oj-bind-text>
                                    </span>
                                    <oj-avatar slot="leading" size="xs" initials="[[item.item.data.initials]]"></oj-avatar>
                                    <div class="member-remove-container">
                                        <oj-button class="member-remove-btn oj-button-sm" 
                                                   chroming="borderless"
                                                   display="icons"
                                                   on-oj-action="[[removeMember]]"
                                                   :data-member-email="[[item.item.data.email]]"
                                                   title="Remove member">
                                            <span slot="startIcon" class="oj-ux-ico-close"></span>
                                        </oj-button>
                                    </div>
                                </oj-list-item-layout>
                            </template>
                            <template slot="noData">
                                <div class="oj-flex oj-sm-align-items-center oj-sm-justify-content-center no-members-content">
                                    <p class="oj-text-color-secondary">No members in this group</p>
                                </div>
                            </template>
                        </oj-list-view>
                    </div>
                </div>
                
                <!-- Accessible Applications Section -->
                <div class="oj-flex oj-sm-flex-direction-column oj-sm-margin-4x-top">
                    <h4 class="oj-typography-heading-sm oj-text-color-primary oj-sm-margin-2x-bottom">Accessible Applications</h4>
                    <div class="oj-flex oj-sm-flex-direction-column applications-checkboxes">
                        <oj-c-checkbox id="userServiceCheck" value="{{applications.userService}}">user-service</oj-c-checkbox>
                        <oj-c-checkbox id="paymentServiceCheck" value="{{applications.paymentService}}">payment-service</oj-c-checkbox>
                        <oj-c-checkbox id="authServiceCheck" value="{{applications.authService}}">auth-service</oj-c-checkbox>
                        <oj-c-checkbox id="notificationServiceCheck" value="{{applications.notificationService}}">notification-service</oj-c-checkbox>
                        <oj-c-checkbox id="databaseServiceCheck" value="{{applications.databaseService}}">database-service</oj-c-checkbox>
                    </div>
                </div>
            </div>
        </div>
        <div slot="footer">
            <oj-button id="cancelDialogBtn" on-oj-action="[[closeEditDialog]]">Cancel</oj-button>
            <oj-button id="updateGroupBtn" class="oj-button-primary" on-oj-action="[[updateGroupMembers]]">Update Group</oj-button>
        </div>
    </oj-dialog>
 
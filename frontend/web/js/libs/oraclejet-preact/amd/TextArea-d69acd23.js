define(['exports', 'preact/jsx-runtime', 'preact/compat', './FormContext-5130e198', './useFormContext-30acdd33', './FormFieldContext-3c44aaaa', 'preact/hooks', './useFocusableTextField-8b755b15', './Label-7cbbe3b7', './keyboardUtils-71bc5d84', './TextFieldInput-e86a1d08', 'css!./ObfuscatedTextFieldInputStyles.styles.css', './ReadonlyTextFieldInput-d6c6dbc4', './StyledTextField-5dcd2ff4', './TextField-c16917d8', './MaxLengthLiveRegion-46bb45da', './useTextField-e6877c79', './logger-0f873e29', './TabbableModeContext-a9c97640', './useId-c9578d26', './useTranslationBundle-7c40cb58', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-3d3e72a9', './CompactUserAssistance-f962b357', './mergeProps-bcfa6a92', './LayerHost-733ade2f', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', './tooltipUtils-30886397', 'preact', 'css!./IconStyle.styles.css', './Popup-3e2566da', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './InputGroupContext-372087af', './HiddenAccessible-037ef42d', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useLengthFilter-ed8959a4', './classNames-08d99695', './usePress-949a0d03', './useFormFieldContext-8196183c', 'css!./MaxLengthCounterStyles.styles.css', './useCurrentValueReducer-faded381', './useSelectableTextField-900d2860'], (function(e,s,t,a,n,l,i,o,r,d,c,u,x,m,p,h,b,F,y,g,C,L,f,v,A,S,T,R,I,U,j,_,E,w,P,k,D,M,N,V,B,H,q,z,W,$,G,O,X){"use strict";var J="MaxLengthCounterStyles_spanStyles__7dy9j72";const K=()=>{};function Q({maxLength:e,valueLength:t=0,onClick:a}){const{isFocused:n}=$.useFormFieldContext(),l=i.useCallback((e=>e.preventDefault()),[]),o=z.classNames([!n&&"MaxLengthCounterStyles_hide__7dy9j71"]),{pressProps:r}=W.usePress(a??K);return s.jsx("div",{class:"MaxLengthCounterStyles_maxLengthCounterBase__7dy9j70",onMouseDown:l,...r,children:s.jsxs("span",{class:o,children:[s.jsx("span",{class:J,children:t}),s.jsx("span",{class:J,children:"/"}),s.jsx("span",{class:J,children:e})]})})}const Y=t.forwardRef((({"aria-describedby":e,assistiveText:a,autoComplete:i="off",autoFocus:d=!1,columnSpan:u,helpSourceLink:F,helpSourceText:y,isDisabled:L,isReadonly:f,isRequired:v=!1,isRequiredShown:R,label:I,labelEdge:U,labelStartWidth:j,maxLength:_,maxLengthCounter:E="remaining",maxLengthUnit:w,messages:P,placeholder:k,resize:D,role:M,rows:N,textAlign:B,userAssistanceDensity:H,value:z,variant:W="default",onInput:$,onCommit:G,testId:J},K)=>{const Y=C.useTranslationBundle("@oracle/oraclejet-preact"),Z=_?Y.formControl_limitReached({CHARACTER_LIMIT:_}):"",{currentCommitValue:ee,dispatch:se}=O.useCurrentValueReducer({value:z}),te=t.useCallback((e=>{se({type:"input",payload:e.value}),$?.(e)}),[$,se]),ae=t.useCallback((e=>{se({type:"commit",payload:e.value}),G?.(e)}),[G,se]),{isDisabled:ne,isReadonly:le,labelEdge:ie,labelStartWidth:oe,textAlign:re,userAssistanceDensity:de}=n.useFormContext(),ce=L??ne,ue=f??le,xe=U??ie,me=j??oe,pe=B??re,he=H??de,be=t.useRef(g.useId()),Fe=e?`${e} ${be.current}`:be.current,ye=t.useRef(null),ge=t.useRef(null),{focusProps:Ce,isFocused:Le,methods:fe}=o.useFocusableTextField({isDisabled:ce,isReadonly:ue,enabledElementRef:ye,readonlyElementRef:ge}),{methods:ve}=X.useSelectableTextField(ye);t.useImperativeHandle(K,(()=>T.mergeProps(fe,ve)),[fe,ve]);const{isMaxLengthReached:Ae,valueLength:Se,onFilteredInput:Te}=q.useLengthFilter({maxLength:_,maxLengthUnit:w,value:z,onInput:te,onCommit:ae}),Re=[...P??[],...Ae?[{detail:Z,severity:"info"}]:[]],{formFieldContext:Ie,inputProps:Ue,labelProps:je,textFieldProps:_e,userAssistanceProps:Ee}=b.useTextField({ariaDescribedBy:ue||ce?e:Fe,contentVariant:"textarea",helpSourceLink:F,helpSourceText:y,isDisabled:ce,isFocused:Le,isReadonly:ue,isRequiredShown:R,labelEdge:xe,messages:Re,styleVariant:W,userAssistanceDensity:he,value:z}),we=t.useCallback((()=>{const e=ye.current,s=e?e.value.length:null;ye.current?.setSelectionRange(s,s),ye.current?.focus()}),[ye]),Pe="none"!==xe?s.jsx(r.Label,{...je,children:I}):void 0,ke={label:"none"!==xe?Pe:void 0,labelEdge:"none"!==xe?xe:void 0,labelStartWidth:"none"!==xe?me:void 0},De="none"===xe?I:void 0,Me="efficient"===he||"reflow"===he?ce||ue?"efficient"!==he?void 0:s.jsx(A.InlineUserAssistance,{userAssistanceDensity:he,...Ee}):s.jsx(A.InlineUserAssistance,{assistiveText:a,fieldLabel:I,helpSourceLink:F,helpSourceText:y,messages:Re,isRequiredShown:R,userAssistanceDensity:he,...Ee}):void 0,Ne=t.useRef(null),Ve="compact"===he?s.jsx(S.CompactUserAssistance,{anchorRef:Ne,messages:Re,assistiveText:a,...Ee}):void 0;if(ue){const e=s.jsx(x.ReadonlyTextFieldInput,{"aria-describedby":Ue["aria-describedby"],"aria-label":De,"aria-labelledby":je.id,as:"textarea",elementRef:ge,rows:N,autoFocus:d,textAlign:pe,value:z,variant:"textarea",hasEmptyLabel:""===I&&"none"===xe,hasInsideLabel:void 0!==I&&"inside"===xe});return s.jsx(l.FormFieldContext.Provider,{value:Ie,children:s.jsx(m.ReadonlyTextField,{role:"presentation",columnSpan:u,compactUserAssistance:Ve,inlineUserAssistance:Me,ref:Ne,testId:J,variant:"textarea",mainContent:e,resize:D,...ke})})}const Be=void 0!==_,He=s.jsxs(s.Fragment,{children:[s.jsx(c.TextFieldInput,{as:"textarea","aria-label":De,autoComplete:i,autoFocus:d,currentCommitValue:ee,hasEmptyLabel:""===I&&"none"===xe,hasInsideLabel:void 0!==Pe&&"inside"===xe,isRequired:v,inputRef:ye,onCommit:ae,onInput:Te,placeholder:k,role:M,rows:N,textAlign:pe,value:z,...Ue}),"remaining"===E&&Be&&s.jsx(Q,{maxLength:_,valueLength:Se,onClick:we}),Be&&s.jsx(V.HiddenAccessible,{id:be.current,isHidden:!0,children:Y.formControl_maxLength({MAX_LENGTH:`${_}`})}),Be&&Le&&s.jsx(h.MaxLengthLiveRegion,{maxLength:_,valueLength:Se,testId:J+"_remainingChars"})]});return s.jsx(l.FormFieldContext.Provider,{value:Ie,children:s.jsx(p.TextField,{mainContent:He,columnSpan:u,compactUserAssistance:Ve,inlineUserAssistance:Me,onBlur:Ce?.onFocusOut,onFocus:Ce?.onFocusIn,mainFieldRef:Ne,resize:D,testId:J,..._e,...ke})})}));e.MaxLengthCounter=Q,e.TextArea=Y}));
//# sourceMappingURL=TextArea-d69acd23.js.map
